<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>前端框架 - 关于 vue  的常见问题 | Ru Shui</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/blog_fe/assets/img/logo.png">
    <link rel="manifest" href="/blog_fe/manifest.webmanifest" crossorigin="use-credentials">
    <meta name="description" content="Frontend For Everyone">
    <meta property="og:url" content="/blog_fe/cate/framework/vue/1_vue2-insight.html">
    <meta property="og:site_name" content="Ru Shui">
    <meta property="og:title" content="前端框架 - 关于 vue  的常见问题">
    <meta property="og:type" content="article">
    <meta property="og:locale" content="en-US">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image:alt" content="Ru Shui">
    <meta property="article:author" content="ru shui">
    <meta property="article:tag" content="framework">
    <meta property="article:published_time" content="2021-06-22T00:00:00.000Z">
    <meta name="keywords" content="backend computer science">
    <meta name="author" content="ru shui">
    <meta name="theme-color" content="#46bd87">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    
    <link rel="preload" href="/blog_fe/assets/css/0.styles.41957911.css" as="style"><link rel="preload" href="/blog_fe/assets/js/app.fe1b108c.js" as="script"><link rel="preload" href="/blog_fe/assets/js/layout-Layout.7bf019d1.js" as="script"><link rel="preload" href="/blog_fe/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound.aaefc311.js" as="script"><link rel="preload" href="/blog_fe/assets/js/page-前端框架-关于vue的常见问题.a38e072f.js" as="script"><link rel="preload" href="/blog_fe/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound~layout-Slide.08f9f3fe.js" as="script"><link rel="preload" href="/blog_fe/assets/js/vendors~layout-Blog~layout-Layout.d98152e8.js" as="script"><link rel="prefetch" href="/blog_fe/assets/js/64.edddbf90.js"><link rel="prefetch" href="/blog_fe/assets/js/65.3074097e.js"><link rel="prefetch" href="/blog_fe/assets/js/66.ca796b84.js"><link rel="prefetch" href="/blog_fe/assets/js/67.8b5573dd.js"><link rel="prefetch" href="/blog_fe/assets/js/68.35ba715c.js"><link rel="prefetch" href="/blog_fe/assets/js/layout-Blog.a64e725c.js"><link rel="prefetch" href="/blog_fe/assets/js/layout-NotFound.800d2983.js"><link rel="prefetch" href="/blog_fe/assets/js/layout-Slide.e3f73168.js"><link rel="prefetch" href="/blog_fe/assets/js/page-HTML-基础.3c5f45c8.js"><link rel="prefetch" href="/blog_fe/assets/js/page-HTML-常见问题.4b6da9dc.js"><link rel="prefetch" href="/blog_fe/assets/js/page-HTML.66af9173.js"><link rel="prefetch" href="/blog_fe/assets/js/page-about.2634f73c.js"><link rel="prefetch" href="/blog_fe/assets/js/page-css-快速响应用户事件.472c9529.js"><link rel="prefetch" href="/blog_fe/assets/js/page-css-扇形.c24d1950.js"><link rel="prefetch" href="/blog_fe/assets/js/page-css.2bd3066b.js"><link rel="prefetch" href="/blog_fe/assets/js/page-framework-react.4f8031e2.js"><link rel="prefetch" href="/blog_fe/assets/js/page-js-copy.ee62c0f6.js"><link rel="prefetch" href="/blog_fe/assets/js/page-js-pre-compile.50ef2e6a.js"><link rel="prefetch" href="/blog_fe/assets/js/page-js-this.382e6868.js"><link rel="prefetch" href="/blog_fe/assets/js/page-js-事件.4eaf1367.js"><link rel="prefetch" href="/blog_fe/assets/js/page-js-事件循环.f4f08876.js"><link rel="prefetch" href="/blog_fe/assets/js/page-js-作用域.096da803.js"><link rel="prefetch" href="/blog_fe/assets/js/page-js-函数式编程.aa7dc3d8.js"><link rel="prefetch" href="/blog_fe/assets/js/page-js-垃圾回收.11453cec.js"><link rel="prefetch" href="/blog_fe/assets/js/page-js-对象.f768a1eb.js"><link rel="prefetch" href="/blog_fe/assets/js/page-js-小而美的promise缓存.b390172b.js"><link rel="prefetch" href="/blog_fe/assets/js/page-js-懒加载与预加载.636d3a83.js"><link rel="prefetch" href="/blog_fe/assets/js/page-js-手写部分原生函数.041cd39f.js"><link rel="prefetch" href="/blog_fe/assets/js/page-js-浏览器的工作原理及其优化.2e5c62cd.js"><link rel="prefetch" href="/blog_fe/assets/js/page-js-深拷贝非递归实现.abd41d0b.js"><link rel="prefetch" href="/blog_fe/assets/js/page-js-继承.49432ea1.js"><link rel="prefetch" href="/blog_fe/assets/js/page-js-节流.98acc76e.js"><link rel="prefetch" href="/blog_fe/assets/js/page-js-防抖.bd57ff72.js"><link rel="prefetch" href="/blog_fe/assets/js/page-js.123f01c8.js"><link rel="prefetch" href="/blog_fe/assets/js/page-react-MiniReactHook.3e164bd6.js"><link rel="prefetch" href="/blog_fe/assets/js/page-react-hooks.1a5c14a2.js"><link rel="prefetch" href="/blog_fe/assets/js/page-react-lifecycle.c75c804c.js"><link rel="prefetch" href="/blog_fe/assets/js/page-react-实现react-redux.b8b1974e.js"><link rel="prefetch" href="/blog_fe/assets/js/page-react-常用技巧.feac4068.js"><link rel="prefetch" href="/blog_fe/assets/js/page-react-常见问题.92cb9bb6.js"><link rel="prefetch" href="/blog_fe/assets/js/page-react-踩坑经历.3eb0098d.js"><link rel="prefetch" href="/blog_fe/assets/js/page-ts-infer.2f8bc3db.js"><link rel="prefetch" href="/blog_fe/assets/js/page-ts-常用技巧.6e284b77.js"><link rel="prefetch" href="/blog_fe/assets/js/page-ts.f9faab6c.js"><link rel="prefetch" href="/blog_fe/assets/js/page-vue-用TS实现一个LRU算法.d1ab6a15.js"><link rel="prefetch" href="/blog_fe/assets/js/page-vue2-dispatcher.b8985f2e.js"><link rel="prefetch" href="/blog_fe/assets/js/page-vue2-几个有趣的工具函数.405cc53e.js"><link rel="prefetch" href="/blog_fe/assets/js/page-分类.5025e2ab.js"><link rel="prefetch" href="/blog_fe/assets/js/page-前端工具-mock选型.4b623928.js"><link rel="prefetch" href="/blog_fe/assets/js/page-前端工具-打包工具-vite.1bebde36.js"><link rel="prefetch" href="/blog_fe/assets/js/page-前端工具-插件-vue-lazyload.41534bae.js"><link rel="prefetch" href="/blog_fe/assets/js/page-前端工具-构建工具-vite.48db0d2d.js"><link rel="prefetch" href="/blog_fe/assets/js/page-前端工具-模块化的由来.f265e792.js"><link rel="prefetch" href="/blog_fe/assets/js/page-前端工具.2edc63a3.js"><link rel="prefetch" href="/blog_fe/assets/js/page-前端框架-vue.edb1670f.js"><link rel="prefetch" href="/blog_fe/assets/js/page-前端框架.3df2f1f9.js"><link rel="prefetch" href="/blog_fe/assets/js/page-性能优化-性能优化方法论-关键指标的设定.64826a13.js"><link rel="prefetch" href="/blog_fe/assets/js/page-性能优化-浏览器页面相关.65a9e8fb.js"><link rel="prefetch" href="/blog_fe/assets/js/page-性能优化.304383b6.js"><link rel="prefetch" href="/blog_fe/assets/js/page-首页.384bf823.js"><link rel="prefetch" href="/blog_fe/assets/js/vendors~photo-swipe.ccc3dbc0.js"><link rel="prefetch" href="/blog_fe/assets/js/vendors~reveal.667d5c11.js">
    <link rel="stylesheet" href="/blog_fe/assets/css/0.styles.41957911.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container has-navbar has-sidebar has-anchor"><header class="navbar"><!----> <div class="content__navbar-start"></div> <button title="Sidebar Button" class="sidebar-button"><span class="icon"></span></button> <a href="/blog_fe/" class="home-link router-link-active"><img src="/blog_fe/assets/img/logo.png" alt="Ru Shui" class="logo"> <!----> <span class="site-name can-hide">Ru Shui</span></a> <!----> <div class="content__navbar-center"></div> <div class="links"><button aria-hidden="true" class="color-button"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="skin-icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4
        38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32
        51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0
        102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2
        6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4
        0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2
        9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224
        419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4
        470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0
        22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6
        12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128
        505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2
        16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8
        86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4
        80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6
        6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg> <div class="color-picker-menu" style="display:none;"><div class="theme-options"><ul class="themecolor-select"><label for="themecolor-select">Theme Color:</label> <li><span class="default-theme"></span></li> </ul> <div class="darkmode-toggle"><label for="darkmode-toggle" class="desc">Theme Mode:</label> <div class="darkmode-switch"><div class="switch"><input id="switch" type="checkbox" checked="checked" class="switch-input"> <label for="switch" class="label"><span class="label-content"></span></label></div></div> <!----></div></div></div></button> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog_fe/" class="nav-link router-link-active"><!---->
  首页
</a></div><div class="nav-item"><a href="/blog_fe/category/" class="nav-link"><!---->
  分类
</a></div><div class="nav-item"><a href="/blog_fe/tag/" class="nav-link"><!---->
  标签
</a></div><div class="nav-item"><a href="/blog_fe/timeline/" class="nav-link"><!---->
  归档
</a></div><div class="nav-item"><a href="/blog_fe/about/" class="nav-link"><!---->
  关于
</a></div></nav> <!----> <!----> <!----> <div class="content__navbar-end"></div></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><div vocab="https://schema.org/" typeof="Person" class="blogger-info"><div data-balloon-pos="" role="navigation" class="blogger"><img property="image" alt="Blogger Avatar" src="/blog_fe/assets/img/logo.png" class="avatar"> <div property="name" class="name">ru shui</div> <!----></div> <div class="num-wrapper"><div><div class="num">48</div> <div>Articles</div></div> <div><div class="num">15</div> <div>Category</div></div> <div><div class="num">41</div> <div>Tags</div></div> <div><div class="num">48</div> <div>Timeline</div></div></div> <!----></div> <hr> <!----> <div class="content__sidebar-top"></div> <nav class="sidebar-nav-links"><div class="nav-item"><a href="/blog_fe/" class="nav-link router-link-active"><!---->
  首页
</a></div><div class="nav-item"><a href="/blog_fe/category/" class="nav-link"><!---->
  分类
</a></div><div class="nav-item"><a href="/blog_fe/tag/" class="nav-link"><!---->
  标签
</a></div><div class="nav-item"><a href="/blog_fe/timeline/" class="nav-link"><!---->
  归档
</a></div><div class="nav-item"><a href="/blog_fe/about/" class="nav-link"><!---->
  关于
</a></div> <!----></nav> <!----> <div class="content__sidebar-center"></div> <ul class="sidebar-links"><li><a href="/blog_fe/cate/framework/vue/1_vue2-insight/" aria-current="page" class="active sidebar-link">前端框架 - 关于 vue  的常见问题</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#关于-mvvm-原理的理解" class="sidebar-link">关于 MVVM 原理的理解</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#viewmodel" class="sidebar-link heading3">ViewModel</a></li><li class="sidebar-sub-header"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#view" class="sidebar-link heading3">View</a></li><li class="sidebar-sub-header"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#model" class="sidebar-link heading3">model</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#响应式数据的原理" class="sidebar-link">响应式数据的原理</a></li><li class="sidebar-sub-header"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#vue-是如何检测数组的变化" class="sidebar-link">Vue 是如何检测数组的变化</a></li><li class="sidebar-sub-header"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#为何-vue-采用异步渲染" class="sidebar-link">为何 Vue 采用异步渲染</a></li><li class="sidebar-sub-header"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#nexttick-的实现原理" class="sidebar-link">nextTick 的实现原理</a></li><li class="sidebar-sub-header"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#vue-中的-computed-的特点" class="sidebar-link">Vue 中的 Computed 的特点</a></li><li class="sidebar-sub-header"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#watch-中的-deep-true-是如何实现的" class="sidebar-link">Watch 中的 deep: true 是如何实现的</a></li><li class="sidebar-sub-header"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#vue-组件的声明周期" class="sidebar-link">Vue 组件的声明周期</a></li><li class="sidebar-sub-header"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#ajax-请求应该放在哪个生命周期中" class="sidebar-link">ajax 请求应该放在哪个生命周期中</a></li><li class="sidebar-sub-header"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#什么时候要使用-beforedestroy" class="sidebar-link">什么时候要使用 beforeDestroy</a></li><li class="sidebar-sub-header"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#vue-中模板编译的原理" class="sidebar-link">Vue 中模板编译的原理</a></li><li class="sidebar-sub-header"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#v-if-和-v-show-的区别" class="sidebar-link">v-if 和 v-show 的区别</a></li><li class="sidebar-sub-header"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#为什么-v-for-和-v-if-不能连用" class="sidebar-link">为什么 v-for 和 v-if 不能连用</a></li><li class="sidebar-sub-header"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#用-vnode-来描述一个-dom-结构" class="sidebar-link">用 vnode 来描述一个 DOM 结构</a></li><li class="sidebar-sub-header"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#diff-算法的时间复杂度" class="sidebar-link">diff 算法的时间复杂度</a></li><li class="sidebar-sub-header"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#简述-vue-中的-diff-算法" class="sidebar-link">简述 Vue 中的 diff 算法</a></li><li class="sidebar-sub-header"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#v-for-中为什么要用-key" class="sidebar-link">v-for 中为什么要用 key</a></li><li class="sidebar-sub-header"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#描述组件渲染和更新过程" class="sidebar-link">描述组件渲染和更新过程</a></li><li class="sidebar-sub-header"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#组件中的-data-为什么是一个函数" class="sidebar-link">组件中的 data 为什么是一个函数</a></li><li class="sidebar-sub-header"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#vue-中事件绑定的原理" class="sidebar-link">Vue 中事件绑定的原理</a></li><li class="sidebar-sub-header"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#v-model-的实现原理以及如何定义-v-model" class="sidebar-link">v-model 的实现原理以及如何定义 v-model</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#跨组件通信" class="sidebar-link heading3">跨组件通信</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#v-html-会导致哪些问题" class="sidebar-link">v-html 会导致哪些问题</a></li><li class="sidebar-sub-header"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#vue-父子组件生命周期的调用顺序" class="sidebar-link">Vue 父子组件生命周期的调用顺序</a></li><li class="sidebar-sub-header"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#vue-组件是如何通信的" class="sidebar-link">Vue 组件是如何通信的</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#父传子" class="sidebar-link heading3">父传子</a></li><li class="sidebar-sub-header"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#子组件向父组件传送数据" class="sidebar-link heading3">子组件向父组件传送数据</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#vue-中相同逻辑如何抽离" class="sidebar-link">Vue 中相同逻辑如何抽离</a></li><li class="sidebar-sub-header"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#为什么要使用异步组件" class="sidebar-link">为什么要使用异步组件</a></li><li class="sidebar-sub-header"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#什么是作用域插槽" class="sidebar-link">什么是作用域插槽</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#何为插槽" class="sidebar-link heading3">何为插槽</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#浅谈-keep-alive" class="sidebar-link">浅谈 keep-alive</a></li><li class="sidebar-sub-header"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#vue-中常见的性能优化" class="sidebar-link">Vue 中常见的性能优化</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#编码优化" class="sidebar-link heading3">编码优化</a></li><li class="sidebar-sub-header"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#加载性能优化" class="sidebar-link heading3">加载性能优化</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#vue3-0-有哪些改进" class="sidebar-link">Vue3.0 有哪些改进</a></li><li class="sidebar-sub-header"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#实现-hash-路由和-history-路由" class="sidebar-link">实现 hash 路由和 history 路由</a></li><li class="sidebar-sub-header"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#vue-router-中导航守卫有哪些" class="sidebar-link">Vue-Router 中导航守卫有哪些</a></li><li class="sidebar-sub-header"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#action-和-mutation-的区别" class="sidebar-link">action 和 mutation 的区别</a></li><li class="sidebar-sub-header"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#简述-vuex-的工作原理" class="sidebar-link">简述 Vuex 的工作原理</a></li><li class="sidebar-sub-header"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#reference" class="sidebar-link">Reference</a></li></ul></li><li><a href="/blog_fe/cate/framework/vue/2_vue-utils/" class="sidebar-link">vue2 - 几个有趣的工具函数</a></li><li><a href="/blog_fe/cate/framework/vue/3_vue2-dispatcher/" class="sidebar-link">vue2 - dispatcher</a></li><li><a href="/blog_fe/cate/framework/vue/4-lru/" class="sidebar-link">vue - 用 TS 实现一个 LRU 算法</a></li></ul> <!----> <!----> <div class="content__sidebar-bottom"></div></aside> <main class="page"><nav class="breadcrumb"><ol vocab="https://schema.org/" typeof="BreadcrumbList"><li property="itemListElement" typeof="ListItem"><a href="/blog_fe/cate/" property="item" typeof="WebPage" class="router-link-active"><!----> <span property="name">分类</span></a> <meta property="position" content="1"></li><li property="itemListElement" typeof="ListItem"><a href="/blog_fe/cate/framework/" property="item" typeof="WebPage" class="router-link-active"><!----> <span property="name">前端框架</span></a> <meta property="position" content="2"></li><li property="itemListElement" typeof="ListItem"><a href="/blog_fe/cate/framework/vue/" property="item" typeof="WebPage" class="router-link-active"><!----> <span property="name">前端框架 - vue</span></a> <meta property="position" content="3"></li><li property="itemListElement" typeof="ListItem" class="is-active"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/" aria-current="page" property="item" typeof="WebPage" class="router-link-exact-active router-link-active"><!----> <span property="name">前端框架 - 关于 vue  的常见问题</span></a> <meta property="position" content="4"></li></ol></nav> <!----> <div class="content__page-top"></div> <div vocab="https://schema.org/" typeof="Article" class="page-title"><h1><!----> <span property="headline">前端框架 - 关于 vue  的常见问题</span></h1> <div class="page-info"><!----> <span aria-label="Author🖊" data-balloon-pos="down"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon author-icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z" fill="currentColor"></path></svg> <span property="author">ru shui</span></span><!----><span aria-label="Writing Date📅" data-balloon-pos="down" class="time-info"><svg viewBox="0 0 1030 1024" xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 0 1-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 0 1-33.473-33.473V143.657H180.6A134.314 134.314 0 0 0 46.66 277.595v535.756A134.314 134.314 0 0 0 180.6 947.289h669.74a134.36 134.36 0 0 0 133.94-133.938V277.595a134.314 134.314 0 0 0-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 0 1-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 0 1-33.472 33.473z" fill="currentColor"></path></svg> <span property="datePublished">2021-06-22 </span></span><span role="navigation" aria-label="Category🌈" data-balloon-pos="down" class="category-info enable"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon category-icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zm-.854 446.486H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zm446.371-446.486h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zm136.293 813.51H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z" fill="currentColor"></path></svg> <span property="articleSection">Framework</span></span><span aria-label="Tags🏷" data-balloon-pos="down"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon tag-icon"><path d="M939.902 458.563 910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 0 0 0 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z" fill="currentColor"></path></svg> <ul class="tags-wrapper"><li class="tag clickable tag0"><span role="navigation">Framework</span></li><li class="tag clickable tag1"><span role="navigation">Vue</span></li> <meta property="keywords" content="Framework,Vue"></ul></span><span aria-label="Reading Time⌛" data-balloon-pos="down" class="reading-time-info"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon timer-icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z" fill="currentColor"></path></svg> <span>About 13 min</span> <meta property="timeRequired" content="PT13M"></span></div> <!----> <hr></div> <div class="anchor-place-holder"><aside id="anchor"><div class="anchor-wrapper"><ul class="anchor-list"><li class="anchor"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#关于-mvvm-原理的理解" class="anchor-link heading2"><div>关于 MVVM 原理的理解</div></a></li><li class="anchor"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#viewmodel" class="anchor-link heading3"><div>ViewModel</div></a></li><li class="anchor"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#view" class="anchor-link heading3"><div>View</div></a></li><li class="anchor"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#model" class="anchor-link heading3"><div>model</div></a></li><li class="anchor"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#响应式数据的原理" class="anchor-link heading2"><div>响应式数据的原理</div></a></li><li class="anchor"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#vue-是如何检测数组的变化" class="anchor-link heading2"><div>Vue 是如何检测数组的变化</div></a></li><li class="anchor"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#为何-vue-采用异步渲染" class="anchor-link heading2"><div>为何 Vue 采用异步渲染</div></a></li><li class="anchor"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#nexttick-的实现原理" class="anchor-link heading2"><div>nextTick 的实现原理</div></a></li><li class="anchor"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#vue-中的-computed-的特点" class="anchor-link heading2"><div>Vue 中的 Computed 的特点</div></a></li><li class="anchor"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#watch-中的-deep-true-是如何实现的" class="anchor-link heading2"><div>Watch 中的 deep: true 是如何实现的</div></a></li><li class="anchor"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#vue-组件的声明周期" class="anchor-link heading2"><div>Vue 组件的声明周期</div></a></li><li class="anchor"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#ajax-请求应该放在哪个生命周期中" class="anchor-link heading2"><div>ajax 请求应该放在哪个生命周期中</div></a></li><li class="anchor"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#什么时候要使用-beforedestroy" class="anchor-link heading2"><div>什么时候要使用 beforeDestroy</div></a></li><li class="anchor"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#vue-中模板编译的原理" class="anchor-link heading2"><div>Vue 中模板编译的原理</div></a></li><li class="anchor"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#v-if-和-v-show-的区别" class="anchor-link heading2"><div>v-if 和 v-show 的区别</div></a></li><li class="anchor"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#为什么-v-for-和-v-if-不能连用" class="anchor-link heading2"><div>为什么 v-for 和 v-if 不能连用</div></a></li><li class="anchor"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#用-vnode-来描述一个-dom-结构" class="anchor-link heading2"><div>用 vnode 来描述一个 DOM 结构</div></a></li><li class="anchor"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#diff-算法的时间复杂度" class="anchor-link heading2"><div>diff 算法的时间复杂度</div></a></li><li class="anchor"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#简述-vue-中的-diff-算法" class="anchor-link heading2"><div>简述 Vue 中的 diff 算法</div></a></li><li class="anchor"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#v-for-中为什么要用-key" class="anchor-link heading2"><div>v-for 中为什么要用 key</div></a></li><li class="anchor"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#描述组件渲染和更新过程" class="anchor-link heading2"><div>描述组件渲染和更新过程</div></a></li><li class="anchor"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#组件中的-data-为什么是一个函数" class="anchor-link heading2"><div>组件中的 data 为什么是一个函数</div></a></li><li class="anchor"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#vue-中事件绑定的原理" class="anchor-link heading2"><div>Vue 中事件绑定的原理</div></a></li><li class="anchor"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#v-model-的实现原理以及如何定义-v-model" class="anchor-link heading2"><div>v-model 的实现原理以及如何定义 v-model</div></a></li><li class="anchor"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#跨组件通信" class="anchor-link heading3"><div>跨组件通信</div></a></li><li class="anchor"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#v-html-会导致哪些问题" class="anchor-link heading2"><div>v-html 会导致哪些问题</div></a></li><li class="anchor"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#vue-父子组件生命周期的调用顺序" class="anchor-link heading2"><div>Vue 父子组件生命周期的调用顺序</div></a></li><li class="anchor"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#vue-组件是如何通信的" class="anchor-link heading2"><div>Vue 组件是如何通信的</div></a></li><li class="anchor"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#父传子" class="anchor-link heading3"><div>父传子</div></a></li><li class="anchor"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#子组件向父组件传送数据" class="anchor-link heading3"><div>子组件向父组件传送数据</div></a></li><li class="anchor"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#vue-中相同逻辑如何抽离" class="anchor-link heading2"><div>Vue 中相同逻辑如何抽离</div></a></li><li class="anchor"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#为什么要使用异步组件" class="anchor-link heading2"><div>为什么要使用异步组件</div></a></li><li class="anchor"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#什么是作用域插槽" class="anchor-link heading2"><div>什么是作用域插槽</div></a></li><li class="anchor"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#何为插槽" class="anchor-link heading3"><div>何为插槽</div></a></li><li class="anchor"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#浅谈-keep-alive" class="anchor-link heading2"><div>浅谈 keep-alive</div></a></li><li class="anchor"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#vue-中常见的性能优化" class="anchor-link heading2"><div>Vue 中常见的性能优化</div></a></li><li class="anchor"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#编码优化" class="anchor-link heading3"><div>编码优化</div></a></li><li class="anchor"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#加载性能优化" class="anchor-link heading3"><div>加载性能优化</div></a></li><li class="anchor"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#vue3-0-有哪些改进" class="anchor-link heading2"><div>Vue3.0 有哪些改进</div></a></li><li class="anchor"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#实现-hash-路由和-history-路由" class="anchor-link heading2"><div>实现 hash 路由和 history 路由</div></a></li><li class="anchor"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#vue-router-中导航守卫有哪些" class="anchor-link heading2"><div>Vue-Router 中导航守卫有哪些</div></a></li><li class="anchor"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#action-和-mutation-的区别" class="anchor-link heading2"><div>action 和 mutation 的区别</div></a></li><li class="anchor"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#简述-vuex-的工作原理" class="anchor-link heading2"><div>简述 Vuex 的工作原理</div></a></li><li class="anchor"><a href="/blog_fe/cate/framework/vue/1_vue2-insight/#reference" class="anchor-link heading2"><div>Reference</div></a></li></ul></div></aside></div> <!----> <div class="content__content-top"></div> <div class="theme-default-content content__default"><h2 id="关于-mvvm-原理的理解"><a href="#关于-mvvm-原理的理解" class="header-anchor">#</a> 关于 MVVM 原理的理解</h2> <p><img src="https://012.vuejs.org/images/mvvm.png" alt="mvvm"></p> <p>MVVM 将数据层和视图层分离开，使用一个中间的控制器将视图层
和数据层连接起来，这个控制器称之为 <em>ViewModel</em>，数据层
称之为 <em>Model</em> 而视图层称之为 <em>View</em>。</p> <h3 id="viewmodel"><a href="#viewmodel" class="header-anchor">#</a> ViewModel</h3> <p>ViewModel 作为 View 和 Model 的连接体。每当 Model 发生变化的时候就会去通知
相应的 View 进行更新；而当 View 相应（例如：UI 点击事件等）操作数据
的时候，ViewModel 又会将其反作用到对应的 Model。</p> <p>vue 并没有完全遵守 MVVM 模型，它更关注于 ViewModel 的实现。
在 vue 中每一个 Vue 实例都算是一个 ViewModel。</p> <h3 id="view"><a href="#view" class="header-anchor">#</a> View</h3> <p>视图，可以是真实的 DOM。
在 vue 中，真实 DOM 由 Vue 实例进行管理，DOM 元素被封装到
实例的 <code>$el</code> 中，我们基本上不需要直接操作 DOM 元素，我们可以
通过 vue 提供的 API 接口对 DOM 元素进行操作。</p> <h3 id="model"><a href="#model" class="header-anchor">#</a> model</h3> <p>可以称作数据层。在 vue 中，model 是一个被略微修改过的<strong>纯 javascript 对象</strong>。
之所以是被略微修改，是由于 vue 为了实现响应式采用了数据劫持的
方式对原有的对象进行修改。然后将数据封装到实例的 <code>$data</code> 上。</p> <h2 id="响应式数据的原理"><a href="#响应式数据的原理" class="header-anchor">#</a> 响应式数据的原理</h2> <p>vue2 实现数据响应式的核心原理是通过 <code>Object.defineProperty</code>
对数据进行拦截而实现的。</p> <p>vue2 在初始化数据的时候，会使用 <code>Object.defineProperty</code> 对数据
重新定义。当用户获取或者设置数据的时候会触发相应的 <code>getter</code> 和
<code>setter</code>，所以 vue 会在 <code>getter</code> 中收集依赖，在 <code>setter</code> 中
实现数据的响应化更新。</p> <p>响应式数据采用了观察者模式实现的。在 <code>getter</code> 中订阅（也就
是依赖收集），在 <code>setter</code> 使用 <code>notify</code> 通知视图更新。</p> <p>整个过程（针对对象）可以大致描述为如下的图：</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>vue 在创建实例的时候，会调用 <code>initMixin</code>，在 <code>initMixin</code> 中
会对数据进行代理和初始化(<code>initData</code>)。在初始化数据的时候，
会通过 <code>Observer</code> 对当前数据进行观察，并收集依赖。当数据为对象
时，会调用 <code>Observer.prototype.walk</code> 遍历对象里面的所有 <code>key</code>，
然后调用 <code>defineReactive</code> 实现响应式。而 <code>defineReactive</code> 实现
响应式的真正核心代码是通过 <code>Object.defineProperty</code> 实现的。</p> <p>来看 <code>defineReactive</code> 中的部分代码：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">defineReactive</span><span class="token punctuation">(</span><span class="token comment">/* ... */</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// statement...</span>

  Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> key<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    enumerable<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    configurable<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token function">reactiveGetter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> value <span class="token operator">=</span> getter <span class="token operator">?</span> <span class="token function">getter</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token operator">:</span> val
      <span class="token keyword">if</span> <span class="token punctuation">(</span>Dep<span class="token punctuation">.</span>target<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// ⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇</span>
        dep<span class="token punctuation">.</span><span class="token function">depend</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>childOb<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          childOb<span class="token punctuation">.</span>dep<span class="token punctuation">.</span><span class="token function">depend</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">dependArray</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> value
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token function">reactiveSetter</span><span class="token punctuation">(</span><span class="token parameter">newVal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> value <span class="token operator">=</span> getter <span class="token operator">?</span> <span class="token function">getter</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token operator">:</span> val
      <span class="token comment">/* eslint-disable no-self-compare */</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>newVal <span class="token operator">===</span> value <span class="token operator">||</span> <span class="token punctuation">(</span>newVal <span class="token operator">!==</span> newVal <span class="token operator">&amp;&amp;</span> value <span class="token operator">!==</span> value<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span>
      <span class="token punctuation">}</span>
      <span class="token comment">/* eslint-enable no-self-compare */</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">!==</span> <span class="token string">'production'</span> <span class="token operator">&amp;&amp;</span> customSetter<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">customSetter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      <span class="token comment">// #7981: for accessor properties without setter</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>getter <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>setter<span class="token punctuation">)</span> <span class="token keyword">return</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>setter<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">setter</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> newVal<span class="token punctuation">)</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        val <span class="token operator">=</span> newVal
      <span class="token punctuation">}</span>
      childOb <span class="token operator">=</span> <span class="token operator">!</span>shallow <span class="token operator">&amp;&amp;</span> <span class="token function">observe</span><span class="token punctuation">(</span>newVal<span class="token punctuation">)</span>
      <span class="token comment">// ⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇</span>
      dep<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br></div></div><p>在 <code>Object.defineProperty</code> 中的 <code>getter</code> 通过调
用 <code>dep.depend()</code> 收集依赖。在 <code>setter</code> 中通过调
用 <code>dep.notify</code> 通知视图响应式更新。</p> <h2 id="vue-是如何检测数组的变化"><a href="#vue-是如何检测数组的变化" class="header-anchor">#</a> Vue 是如何检测数组的变化</h2> <p>数组没办法像对象那样直接通过 <code>defineProperty</code> 进行数据拦截，
因为使用做的话，使用数组的 <code>shift, unshift, append</code> 等
这些修改数组的方法无法触发响应式。所以 vue 对数组进行额外的
操作。</p> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAS0AAAHwCAIAAAB8Ia5IAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAB+JSURBVHhe7d1taB3XncdxaRPYhKTJWoa0cbvGSF6IcboOjd2AYwVsUCy7pZsYp1LjbdDiEkeihHgdW62c0kK9cW1jAiEolonBeEtsLU7oGxvZhhYSpTSREiyI8ZtIG0w27BbJD3VKstBF+8v8j07Hc68erav/3Kvvh+7dc2bOnJm5OT+dmbnWVfXo6GgVAFd/E/4/AD/kEPBHDgF/5BDwRw4Bf+QQ8EcOAX/kEPBHDgF/5BDwRw4Bf6X696Xb32wMJcDbS5t6QimvSpjD/J885oOyGIpclwL+yCHgjxwC/sgh4I8cAv7IIeCPHAL+yCHgjxwC/sgh4I8cAv7IIeCPHAL+yCHgjxwC/sgh4I8cAv7IIeCPHAL+yCHgjxwC/sgh4I8cAv7IIeCPHAL+yCHgjxwC/sgh4I8cAv7IIeCPHAL+yOFMVFdX79+/P1SmZgabYP4ghzmirGY0Njbu3r17aGgotECFIoczMTo6umvXrlCZmswmmhuLTo+tra1vp6xbt+7s2bN1dXUzmEt7e3sV41BBvpFDHx988EEo3WjJkiVrUhTdvr6+Q4cOtbe3TzeKFy5cCCXkHjn0cfXq1VCagm3btu3bt09RnNYF6rVr10IJuUcOZ0J3bnF20uWfqip0dXUtXbo0ua2rbm5uHhgYsAZGC20Tvap85swZ5SppO6XnN1u3btXrkSNHrCojIyNtbW01NTXWifaoI7FVdkjqX3uxtfECdYKt4Igczg5l6bXXXnv55Zd1U3f8+HHd1K1du1aDPqxO2bx5s9qoEG8FtcRWTWDhwoXr169///33Q72qasuWLdpLZ2enejh16tTg4OD3vvc9mzCXLVumhSsTyR7e1nQ66VbwNFoaz72xPpQqkd43jWwra0CrWldXNzw8bEvEFiqQoX7jJpKpmqILo46ODjWwsvKjPWovVhUtyWyu3EqoJKayVeUpi6HIfDg7du7cqSkrVKqq1qxZo9dLly5ZdVbcfffdoVRVVVtb+9FHH9lejJZo9hvv8Y+Z2VaYA+RwdixfvjyUSubjjz/WbBYqxegHwbQe/5iZbYXZRQ7LRl9f39KlS0Olqko3dW1tbatWrbInLnLmzJmwbnwz2wqlRg7Lg/LT39//+OOPW7W3t1dzoxY+8cQTut8zusK0teOZ2VaYA+SwPHR0dCxYsCA+Wd2zZ4/y09PTs2vXri8/70+kb1CLmtlWmAPk0Ifmpal/zq4rye7u7s7OznRmMvkZGBjIXGHW1tYWfnAy6VZwQQ59aF5StE6fPq1rRV0ohqXJwxgtiezfBpw4ceL48ePNzc2hUVXVunXrlJ/9+/dbMxXa29szV5grVqzQpay2VQP7RwVT2Qo+wucXs22+fX6oV6tG6TaSqZ4/fz4+/IwfM1o1TSHRFeng4KA1SFNv1oOuV1tbW4eHhzMfGNoS60cNbOGkW1WeshiK1fo/+081u7a/2fjSpp5QAfyUxVDkuhTwRw4Bf+QQ8EcOAX/kEPBHDgF/5BDwRw4Bf+QQ8EcOAX/kEPBHDgF/5BDwRw4Bf+QQ8EcOAX/kEPBHDgF/5BDwRw4Bf+QQ8EcOAX/kEPBHDgF/5BDwRw4Bf+QQ8EcOAX/kEPBHDgF/5BDwV8K/fxhKuAl/vPTIPYvfChXMVP7//mGpcohZ0bDjnXMHHw4VVC6uSwF/5BDwRw4Bf+QQ8EcOAX/kEPBHDgF/5BDwRw4Bf+QQ8EcOAX/kEPBHDgF/5BDwRw4Bf+QQ8EcOAX/kEPBHDgF/5BDwRw4Bf+QQ8EcOAX/kEPBHDgF/5BDwRw4Bf+QQ8EcOAX/kEPBHDgF//P3D3Pns8788/+qHVh78rz/Xff0OFe687dZf/Mt9d95+qy1HhWE+zB2FbfXyGiVQ/1PVCv9YdxchrGDkMI82PbIolBJK4KOr7gkVVCJymEcK3g8f/ftQqap6vP7er9XcFiqoROQwp+KUyGQ4H5DDnIpTIpPhfEAO80tTIpPhPMHnFrn235e/YDKcD8gh4K9UOdz+ZmMoAd5e2tQTSnlVwhzm/+QxH5TFUOQ5DeCPHAL+yCHgjxwC/sgh4I8cAv7IIeCPHAL+yCHgjxwC/sgh4I8cAv7IIeCPHAL+yCHgjxwC/sgh4I8cAv7IIeCPHAL+yCHgjxwC/sgh4I8cAv7IIeCPHAL+yCHgjxwC/sgh4I8cAv7IIeCPHJZEb29vdXV1qACTIYeAP3II+COHgD9yCPgjhzMxMDDQ3NxcU1NTnWhsbDx9+nRYd6MTJ06sWrXKmqmQaWb92Fr11tbWNjIyEtZVVamsJUuXLo1rh4aGwrqxR0Fqs3v3bjuSzs5OvarP0CJFDfbv32/libuFC3I4bYrWAw88oMKvf/3rtxO1tbXf+c53lAdrEGnJwYMHd+zYYc2UQzXr6uqytcrD2rVrVbC16q2vr+9nP/tZXKt4a8mePXtsrdKycuXKTGa2bNly9uxZO5Kmpqa6urrYf6TwX7lyZfPmzSpPsVvMtdHSeO6N9aFUWYaHhxcsWNDa2hrqYw4dOqQ3UyPbqiqoqlSovS0x+/bt0/LBwUGVrU2mQaRdaEeZteow7rroLnQY2ipUxiifYuVJu608ZTEUyeH0WN6KhkejuaOjw8oWkuPHj1s10oZark5UtjaWyUJKS+wtsr1b2TZXsK1q1Ftmv7bk1KlTVp2028pTFkOR69Lp0d2XruIWLlwY6im643r//fdDJbFs2bJQGqMNFddr166pvGbNGnUlunzVzZ41MNqLriQ3bNgQ6mOWL1+u1/Qd4OrVq0MpoStkTX2/+c1vQr2q6ty5c9rjxo0bVZ56t5hj5HB6dB9VNIRFrVixIpRSFNdQqqrq6enZu3evbvDq6+vTz2muX7+uVy2svpGWxLXjeeyxx7q7u60fOXDggJJp5ZvpFiVFDqdHE04c4pMq+vDjo48+CqVkety2bVtfX5+uVzs7O0+cOLFlyxYtX7RokV51uaiLz0KF02xac3OzLj5PnjypsqZZXZdu3brVVt1MtyitcH062+bh/WH61kvDWs0K7w8L79/StDz+F1Fv2peVi7Jd6DXUU3QYutxVobW1df36G/5DTNpt5eH+sAJt3rxZQzl+uhB1dXXp1ivOPObgwYOZyfPIkSPavKGhQWXdFupC1JYX0rSmS8rM5trLBJtE3//+9/v7+3W/pwm2paUlLE3cTLcooZDH2Vap86HYrKWbrlOnTmk60qumHS1Jz3I2Wdm8pOWqit2nxWba0NrYWi1XROPnB5pyVU1vntmLlqiqV6tmaEPNhOoh1MdM2m3lKYuhSA5n4vz58wqVBrRGsKicyYOqWq7Cvn376urqxmumKCoStlbNMh9CKDMKyXh7sV1kOoyUK60t/IhCJu628pTFUKzW/9l/j9m1/c3Glzb1hArgpyyGIveHgD9yCPgjh4A/cgj4I4eAP3II+COHgD9yCPgjh4A/cgj4I4eAP3II+COHgD9yCPgjh4A/cgj4I4eAP3II+COHgD9yCPgjh4A/cgj4I4eAP3II+COHgD9yCPgjh4A/cgj4I4eAP3II+COHgL8S/v3DUMKM/PHSI/csfitUcHPy//cPS5VD3KSGHe+cO/hwqKDScV0K+COHgD9yCPgjh4A/cgj4I4eAP3II+COHgD9yCPgjh4A/cgj4I4eAP3II+COHgD9yCPgjh4A/cgj4I4eAP3II+COHgD9yCPgjh4A/cgj4I4eAP3II+COHgD9yCPgjh4A/cgj4I4eAP3II+COHgD9yCPjj7wHnyz//W///XP7fUEl8teZvD/3rA3fefmuooxIxH+bLDx/9+1Aa8+jKewhhxSOH+bJ+1Vc1AYZKMhluemRRqKBykcPcSU+JTIbzBDnMnTglMhnOH+Qwj2xKZDKcP0ryvHT7m42hhJn6zw+fWnzff9xy6xehjpl6aVNPKOVYqXJYFiefZ599/hcmw5tXLkOR69KcIoTzCjkE/JFDwB85BPyRQ8AfOQT8kUPAHzkE/JFDwB85BPyRQ8AfOQT8kUPAHzkE/JFDwB85BPyRQ8AfOQT8kUPMterq6t7e3lBBghzOhVWrVmnwnT59OtSBG5HDSTQ2Nt7kD++BgYH+/v7169cfO3YsLKpQ+xOhgukgh5N47733Qmmmurq6Vq5c+cILL3R3dw8NDYWlleiDDz4IJUwTOZzElStXQmmmTpw4sWPHjjVr1tTV1Z08eTIsrURXr14NJUxTGedQl0C6aLTC0qVLdQMmzc3NmctItdm9e7cuDu0mzTYxumFT1TasqanRtmoW1iUbarkK9fX11ibds3ZqHYr23tbWNjIyEtalKIRKckNDg8pPP/304cOHbXmadiShMkb9q+dQSejYdIRxj3YFGAtGq3SQOq94bNrEDkzTsr1LOtPCo1VVC9MN0lO3+tRyFWInkn677GjPnDnT3t5ua9NHhcmNlsBzb6wPpVLat2/fggULmpqadOt16tSpt99+W68q66RUDo1GR7VEl4VqqfZafv78eVve2tqqlh0dHVoocVsVrIFaHjp0SEv0am2Gh4e1XK/WYVx+/PhxzXVaMjg4aNtG6lM7srLWpvuP1EZCZYyOVo1DZXRUe1FVzdJnaqeglqFR8pXQOiMdjA7JDkxHpaNVG73attZzPCqxMxLbyjpPn47tPd2J9Sz2nqiltVG3KkjhWxGpmRqESonNzVC8eeWdQ/0XVQ5DfYzGkAZiqCRVNVNmQj2hcaCFGkyhPka9xbEl1iwzaLRftYl5NtpEO9W+Qj1hwUtvrv7TATDaKrOh2NmFyuhoYeeiJWqjlqGeDHEdWzoD1o82jyclFuBQSarpszbaJB6qvQ+ZTgrfQ1XTBzMeNcu8paVTLjks+/vDn/70p6E05tlnn9VATF9hyrZt20Ip8corr+hHu66sQn3Miy++qMvId999N9SL+dWvfqUBumLFilBPLFy4cM+ePbowS1/vHTlyRGNXd4ahXlX11FNPvfrqq0WvYCegc9EZ6bxCfUzhEtFJ1dbWhkpV1erVq/W6c+dOHaEtke9+97t6jW+RLp51RukGok10qKGSyHRi53Xp0iWr4maUfQ4zeZD77rtPr9evX7eq2LyR1t/f/+ijj4ZKio3gDz/80KqFdNekoD788MOhnvKNb3xDrxcvXrSqaBxr7IZKYuPGjZp5pvu0xvrUtlaNCpfIkiVLQill+fLloZS466679GpvkdKoM9qwYUOy5q9sk/SPs0wnmEUV+Lw0PRuMR9PL3XffHSrT8emnn+rVxvHE7AnNM888Y88tIi08cOBAaDQ1JZ1zLI3xWVSkJXEtSq0CcziVz+h0uXjt2rVQmY5Fi778w6B/+tOfrDqBo0ePah7WjVCGbqj0U2Ba/zZgZj8ypsjOKD5zyli2bJk1Q0mVfQ4z94Fin7zb8BqPbg7Pnj0bKinW2/3332/VQppsdWH5zjvvhHrKhQsX9GoDVz8LdK/Y0tKim6gM3b/pp8Drr7+ebDSu3/72t6E0dkFY+M/iZuUfytkZqRCO70aZm0aUSNnncO/evaE05uDBg5qIJr46/fGPf6xbRF06hvoY9aaQxPuuorPfT37yE934ZfI/MjKiq834tEN3gBrchc+BjG4atev4tEaHqp8d6Yc36lwxDpUkITqql19+OdTHFC6ZGR2nDj7z9Kirq6utrS1UpmbGVxko+xxevXpVw0gzQ/z8Wld99rB+AhrZyswPfvCD3bt3a0NRMBobGzVJvvHGG6HR2Fyh4W5tbKRu3bpVA27t2rUaqbZchYceekgtf/nLX9qGhw8fHi+E0tDQoLvEc+fOWfXJJ59UVXu3s1Bv6rypqcnWGh2Dkhnb6FXliX/WTJ0O+/Lly+pQb0JyQr1KoO5sH3nkkdBianSV0d3dbUdY2f+Cb/aFzy9m1Vx+fjg8PNzR0WFXVnpVupTD0CKhuVFC5Ub2gXXyNhTfVuwDa2uQ/sxQe9ews20VS1XjZ2vqVgszHzBmKGbaPFSSTWJvWmX3ZiqH1QktiW1UsE/qVLaCyVTF+tFrqCcKF+rgdfp2pmLHENaN04loYXp3OmW9FUkHRT6bjbS2sKsS4XP8ktMI0H/RUJmXFB69A8pwqJcJclioAp+XViRdNOoSOlTG2F2oLolDHWWLHJaHlpaWF198Ubdtdv8mdgvX2dnJI80KQA7LQ3Nzs64/h4aG6sdcvnxZV3cTPA1CGanWtWkozp7tbza+tKknVAA/5TIUmQ8Bf+QQ8EcOAX/kEPBHDgF/5BDwRw7nDt/qjfGQwzkywLd6Y3zkcI508a3eGB85nCMn+FZvjK9ic6g5p62traamRrdkRb/BWtdOE38hd2Njo9poYaafOJupQdF/3qmpTy3TvSmEV8rhW72tcztZ6zPdQH1quQqxE1H7+NUEdrR8q/dM2K8/zS73X/oaHBxckHyP9amxL5/WLKSqrR2e2hdyJ78//OVXEreOfUd1bGa/8quq3sDCXx22TUIloX7iErXXVoW/NGi7C5Uxmd+x1DGoqmZ2XnpVWT1rYea3gWfwrd7nz59Xs6ampqJvmtje051Yz2JviE7N2sR3rPDNmWP8HrAnjQONIRscxsaH/Y68RpKGTub35dVYm6SToLI2yXwRuJpp2zh8VU4HQNRt3JGx4OkAQj2v3+pd2LkducJmVXsPi76xsY2omnlPHJFDT4XxSNNaTRehkqLBpDEUB5kGpVpaOc2+hiOWNS6tbDS403OIFLbRZJLekdHuMjGQdA4t4drWqpH1lslhJueWlszPFNvQfmSM17l+ZMSjKtqJaGFm7+Rwuirw/lD3b7oZs++TL2Rrp/iF3N/+9rdDKeWb3/ymerDy1q1bNWnoxsmqupuy5zFWNWXxrd5/+MMf9FrY1be+9a3MX4DkW71LoQJzaF+5PZ6pfyH3eCyupra2VtNF/DJS+wo2ex5j7AlN/r/V277vMBxcSnt7e/yhg9KpwBx+5StfCaVipv6F3OP55JNPQinR0tKisNlzxaNHjzY3N6e/qKJcvtV78eLFeg0HV8DaoHQqMIf2l2d+//vfWzXDvpJ00i/kNkX/KPdbb72l+71QSb6xQq+aCXXFe+bMmfQflrIlZfGt3nbW+hEWju9G1galU5mfHzY1NR0+fDjz2VdNTY199DeVL+Q2uiTr6uoKlYR60Oz39NNPh3pCodK8p/u9lStXpv/+VBl9q7cOW50Xfjm6Dl4HGSpTo374Vu9pC89rZpX7Q6rzyUdh6Y+5NDjic7/hgs8PVVADLUw/w1R7a9Yx9jeD1Y91m3nUaQ8b1UP68b1oSeHnE1HRTwXiMeuQtC/9QEn/N7InnDowa6NXle3jh4mfWFrneg31RGahVePnh9a5jsEeqMYGsX2U2Z160IlbJ+nPTlzwuYUzjR4bxGJ5yIRHQ0eDPjZQtegHCRpJ6X4KmxlLbHqVBqI2iYO4KPWsDUMl2SQeklZpHIvKYXVCS2IbFSwAKqeTkKmK9aPXUE8ULky/aTodvWnpIBXtRLQwvTt1ojcq6WOib/WeG+Sw7FkOQ2VCip9FPdTnlvauEa8MhzpSymUoVub94Rw7cuTI5cuXn3/++VAvmUa+1btCkcOZGxkZ6U3+PFN7e3tnZ+ds/fWlCfCt3pWKHM7cxYsX6+vrDxw4oLug8R6Kzi7tRdefQ3yrd8Xh+7xRycplKDIfAv7IIeCPHAL+yCHgjxwC/sgh4I8cAv7IIeCPHAL+yCHgjxwC/sgh4I8cAv7IIeCvVL/3FEqYqZFPH/q7ewZuufWLUMdMlcXvPZUkh7h5j7/w7r/vfvDO228NdVQ0rksBf+Qwp+64/ZbPPv9LqKDSkcOc0hXpnz//v1BBpSOHgD9yCPgjhzl15223cn84f5BDwB85zKk7b7/1sy+YD+cLcphTfG4xr5BDwB85zCk+P5xXyCHgjxwC/shhTt1xG89p5hFyCPgjhzn15XOaL3hOM1+QQ8AfOcwpPsefV8hhTvH54bxCDgF/5BDwRw5zit8/nFfIIeCPHOYUv384r5DD/OK6dP4ghzl1x+23hBLmAXKYU3x+OK+QQ8AfOQT8kcOc+vJ5Kc9p5g1yCPgjh/nFlDh/kMNcUw7tf6GOCsXfA86d5zs/HPz0zyrE+Gli5G8DVzbmw9x5/JF7M3Pg4/X3EsLKRg5z5+H7F9Z9/Y5QSSbDR1fdEyqoUOQwj3Y2/UMoVVWtvr/mazW3hQoqFDnMI82HmhWtvKl+kRVQwchhTj3zT0v0mrlGRaUihzmla1HdFj5ef2+oo6KV6nOL7W82hhLg7aVNPaGUVyXMYf5PHvNBWQxFrksBf+QQ8EcOAX/kEPBHDgF/5BDwRw4Bf+QQ8EcOAX/kEPBHDgF/5BDwRw4Bf+QQ8EcOAX/kEPBHDgF/5BDwRw4Bf+QQ8EcOAX/kEPBHDgF/5BDwRw4Bf+QQ8EcOAX/kEPBHDgF/5BDwRw4Bf+Swqrq6ure3N1QAD+Swkp0+fVo/ZVatWhXqyCtyWMmOHTu2fv36/v7+gYGBsAi5RA4r1tDQUHd397PPPqsodnV1haXIJXJYsc6dO1dXV7dx48aWlpYTJ06MjIyEFcifCs+hBl9bW9vSpUt1m2R3Svv37w/rbtTb29vc3GzN1D7TTNd1cW1NTY36TA/r9F5sreaisC6h5bpVUxiszS9+8Qs1KzpHaS+NjY2hUlWlw9Axf7nX6mqtyjxP0sJ0t5ljPnDgQFNTkwoNDQ16VSyTxX9lnevg46nZchWKdquF8WDsLbI3Qa9TPB2Ma7Q0nntjfSj5OX/+/IIFC1auXHn8+PG3E/v27bMloUVCb0JHR4eWHzp0KN1Mg9gaDA8PW9XWnjp1Sj20trbGtaqK7UVrdR2o9oODg9ZAtAtbaG20Sptrsgqrx6grtVQbq6pN+qhU1Vr1b2ulsNuwYnRUVa2NS7StjtDKkU7TeoinZsuLdquClqufpOGXb5Gqet9sk6Know3VJp6OlzwMxUlVcg41mDT4NLhDPaFwanBoGIV6MuxEy0M9YcPOxpCVM/1ElpbMWg1KLQ+VYruww8jsVJFTV1bWrtVAu7aqyQz3pNdsJ0YtdfqhMra7dFDFshR/3ERJr9lu1TjdoWgXamZl6z9ztOnTcUQOPdnISM8ekQZQenJQs3RmIrWxMWo5zAziSEMtTguRhmAco6JyZhBLJquiJbEr7bpwBssM96LdSmZeNeotc5yWw0x4ZLxuM/TeqmWMq/qf4HQclUUOK/b+8OLFi3p96KGHrJq2ZMmS/v7+UEmsWLEilFJ0L3T16lUV1qxZo0Emu3fvztyh6b7xypUrGzZsCPUxy5cv12v604J169aF0pidO3fqHixUksaK+tatW6169uzZJ554wsqRHeeFCxesKoXdysmTJ/XTQfdmoZ740Y9+9Oqrr4ZKis4ulFKKdptx11136fX69etW3bFjR/ppkN6o9OlgYhWbw0uXLul14cKFVp2YxSZDcQ2lqqqenp69e/cqG/X19ennNDYKtdCeXkRaEteOp6GhQRk+ffq0Vbu6uhT12tpaq2pVe3t76C5Fq65du2ZtxnPgwAFtHjYY88wzz2hhOvnTpW0bGxt1+tahnWOUeRr0+uuva1KNp4OJVWwOFy9erNf443lin3zySSilfPzxx6GU5Hnbtm19fX265Ovs7NSI3LJli5YvWrRIr/FRSsayZcuSrYvTGNXF57Fjx1TWcapPTSm2SuyqNXR0o82bN4dGxdhEZI9YMhSMo0ePhnbTpATqp8+DDz6o07fe7No70lukGdj6t9NpaWmxVZhcuD6dbXm+P8zceqlZ0fvDwvu3yB6iWFlXgBqRVh6PGqefDEV2i6Vsq0P1k37Yo4OUUBlH0W51zDryULmRHXa80bX7QyunFXar1Glh5s20hXoN9dTTIDudsNQb94eedCulH/8///nPM1OibsO6u7vTM4/oh3f6Xk50uajx9OSTT6qs20JNBba8kCYBXQdm9qKLzAk2iTZu3Kjxqms5TSPqJ30V/dhjj+k4M0elqn3iF+oFbCLSnWeo30i70O509xjq02Q3hNErr7wSSmP0nutHgPrX6ejHQViKqQh5nG15+CGkH88adpr64kVaR/I5YWaW05tgy+PlpU0UsZnNWmpja+2HfVyrSSyzFxuCqloDUbXofCjqVj8v1CA+eIy0PHNUmYMv7FY71cI44xXS5nG2tNO0clpht/Ec9VboSPSqY7PTVDU0Suho1f/ExzDHymI+rOQcigaQjTyNDLG0hHVjtNzGltaO1yy9Vr0VDlPtRSPVGuh6MjM6tTCzSaTxqrXqPNRvpK0mOHgtzHSrNhNfzaYv17WtyrY8rbBb0YbqWatEe7FAqpw5U70VWqiUhnoOkEPMO5bzwh92jspiKFb4vy/FHGtvb9dsmfnoEpMih5gFQ0NDvb29bW1t77333muvvRaWYsrIIWbByZMn6+vr+/r6fve73xX9x0mYGDnELNi1a5ducpRDQjgz5BDwRw4Bf+QQ8EcOAX/kEPBHDgF/5BDwRw4Bf+QQ8EcOAX/kEPBHDgF/5BDwRw4Bf+QQ8EcOAX/kEPBHDgF/5BDwRw4Bf+QQ8EcOAX/kEPBHDgF/5BDwRw4Bf+QQ8Fc9mvzdyVm3/c3GUAK8vbSpJ5TyqlQ5BDB1XJcC/sgh4I8cAv7IIeCPHAL+yCHgjxwC/sgh4I8cAv7IIeCPHAL+yCHgjxwC/sgh4I8cAv7IIeCPHAL+yCHgjxwC/sgh4I8cAv7IIeCPHAL+yCHgjxwC/sgh4I8cAv7IIeCPHAL+yCHgjxwC/sgh4I8cAt6qqv4f0SMCcPLa66YAAAAASUVORK5CYII=" alt=""></p> <p>前面实现响应式的过程与对象类似。但是在 <code>new Observer</code> 中
vue 会修改当前数组原型上的方法（是 <code>protoAugment</code>
还是 <code>copyAgument</code> 取决于 <code>'__proto__' in {}</code>），
，内部还是会调用 <code>dep.notify()</code>。下面是 vue 中如何对数组
的方法进行修改的代码：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>odsToPatch <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'push'</span><span class="token punctuation">,</span> <span class="token string">'pop'</span><span class="token punctuation">,</span> <span class="token string">'shift'</span><span class="token punctuation">,</span> <span class="token string">'unshift'</span><span class="token punctuation">,</span> <span class="token string">'splice'</span><span class="token punctuation">,</span> <span class="token string">'sort'</span><span class="token punctuation">,</span> <span class="token string">'reverse'</span><span class="token punctuation">]</span>

<span class="token comment">/**
 * Intercept mutating methods and emit events
 */</span>
methodsToPatch<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">method</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// cache original method</span>
  <span class="token keyword">const</span> original <span class="token operator">=</span> arrayProto<span class="token punctuation">[</span>method<span class="token punctuation">]</span>
  <span class="token function">def</span><span class="token punctuation">(</span>arrayMethods<span class="token punctuation">,</span> method<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token function">mutator</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">original</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span>
    <span class="token keyword">const</span> ob <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>__ob__
    <span class="token keyword">let</span> inserted
    <span class="token keyword">switch</span> <span class="token punctuation">(</span>method<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">case</span> <span class="token string">'push'</span><span class="token operator">:</span>
      <span class="token keyword">case</span> <span class="token string">'unshift'</span><span class="token operator">:</span>
        inserted <span class="token operator">=</span> args
        <span class="token keyword">break</span>
      <span class="token keyword">case</span> <span class="token string">'splice'</span><span class="token operator">:</span>
        inserted <span class="token operator">=</span> args<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
        <span class="token keyword">break</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>inserted<span class="token punctuation">)</span> ob<span class="token punctuation">.</span><span class="token function">observeArray</span><span class="token punctuation">(</span>inserted<span class="token punctuation">)</span>
    <span class="token comment">// notify change</span>
    <span class="token comment">// ⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇</span>
    ob<span class="token punctuation">.</span>dep<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> result
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><p>同时，会遍历数组中的数据，对里面的每一项进行观察。</p> <h2 id="为何-vue-采用异步渲染"><a href="#为何-vue-采用异步渲染" class="header-anchor">#</a> 为何 Vue 采用异步渲染</h2> <p>采用异步渲染主要是出于性能考虑。Vue 是组件级更新，不可能单个数据
发生变化就立马更新视图，而是会先将发生变化的数据对应的 <code>Watcher</code>
放入到一个队列中，等当前组件数据更新完毕，调用 <code>nextTick</code> 实现
页面更新。
<img src="data:image/png;base64,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qVOnrFvtzlcPQZNKL43XvHnz9Gq7y2dtMKOQjMVu6dKlNsMKCi4M3nvvPS8lt7EWsrofzBcePmaFH/Eo5m7cuOGb3U678EaDv93Rtrr7DvfLaqmRnDt3TsMLv9c5fPiw5miffPJJc3Oz7m2t2/vvv99XD8EeCIRxjon9Ybj33nttj4G1wYxCMha7devWaYYVngMqBbTQKwml0sWLFzXn8npyr5o+zjONjY379u3LtpH29vampiYr27zyo48+sqp54403vJTQZLCzszOMR1X7rZ/XB3+789vf/lbjDPfLopF88MEHGt6TTz7pizKyMa0+NYX0SsLmd9l9KbwUtWGc9vNDr4xE81bNXnfv3u31QRpn9teUmEHsK2qM6C7+WkIRo09+eiO8d+9efYzt215vMfiDG7W0m1A11iahTV9fnxaqzbFjx5Ke/EY1/WGK2A9ctAutVVfqwTrREm+RtAnjUVVd+epB27dv14YaqtcztEdtkh2bUW9aqD1az2qm0doAvEUu19PTo6o6tza2UC2zG9qQ0jFrwGLllNZmu9VW1oOdQL3aYWp31iC0v1v41c7UuPvvdKm4i1ekEk0fS0WMPpn26dXHNf+Dqg+zciRtk0TE3z7tvjqhrhRhlkppM1+XyDbQHrUXLVFGqOAtEtnxWNT6igzbuyLM6xnqU6u0d69nhKMoeKSWuZKN3eyGKmQHnATjCMko2pf2aD3oDOg8XL161deRjDNMmf5rlwKGt+VEw/7VXV4pArpbbGlp4e2baYrtOpyueM4IABHJCAARyQgAEclYqpqbm3nICEwSkhEAIpIRACKSEQAikhEAIpIRACKSEQAikhEAIpIRACKSEQAikhEAIpIRACKSEQAikhEAIpIRACKSEQAikhEAIpIRACKSEQAikhEAIpIRACKSEQAikhEAIpIRACKSEQAikhEAIpIRAKKyXC7nRQxry4kGL2G8/nx92X3zPvAKxmv/6i4vYdKQjJg6y7d+eO61R70CFDHupgEgIhkBICIZASAiGQEgIhkBICIZASAiGQEgIhkBICIZASAiGQEgIhkBICIZASAiGQEgIhkBICIZASAiGQEgIhkBICIZASAiGQEgIhkBICIZASAiGQEgIhkBICIZASAiGQEgIhkBICIZASAiGQEgIhkBICIZASAiGQEgIhkBICIZASAiGQEgIhkBICIZASAi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" alt=""></p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// ./schedule.js</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">queueWatcher</span><span class="token punctuation">(</span><span class="token parameter">watcher<span class="token operator">:</span> Watcher</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> id <span class="token operator">=</span> watcher<span class="token punctuation">.</span>id
  <span class="token keyword">if</span> <span class="token punctuation">(</span>has<span class="token punctuation">[</span>id<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    has<span class="token punctuation">[</span>id<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>flushing<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// ⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇</span>
      queue<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>watcher<span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token comment">// if already flushing, splice the watcher based on its id</span>
      <span class="token comment">// if already past its id, it will be run next immediately.</span>
      <span class="token keyword">let</span> i <span class="token operator">=</span> queue<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span>
      <span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&gt;</span> index <span class="token operator">&amp;&amp;</span> queue<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>id <span class="token operator">&gt;</span> watcher<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        i<span class="token operator">--</span>
      <span class="token punctuation">}</span>
      queue<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> watcher<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// queue the flush</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>waiting<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      waiting <span class="token operator">=</span> <span class="token boolean">true</span>

      <span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">!==</span> <span class="token string">'production'</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>config<span class="token punctuation">.</span>async<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">flushSchedulerQueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span>
      <span class="token punctuation">}</span>
      <span class="token comment">// ⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇</span>
      <span class="token function">nextTick</span><span class="token punctuation">(</span>flushSchedulerQueue<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><h2 id="nexttick-的实现原理"><a href="#nexttick-的实现原理" class="header-anchor">#</a> nextTick 的实现原理</h2> <h2 id="vue-中的-computed-的特点"><a href="#vue-中的-computed-的特点" class="header-anchor">#</a> Vue 中的 Computed 的特点</h2> <h2 id="watch-中的-deep-true-是如何实现的"><a href="#watch-中的-deep-true-是如何实现的" class="header-anchor">#</a> Watch 中的 <code>deep: true</code> 是如何实现的</h2> <h2 id="vue-组件的声明周期"><a href="#vue-组件的声明周期" class="header-anchor">#</a> Vue 组件的声明周期</h2> <p><img src="https://vuejs.org/images/lifecycle.png" alt="vue2 life circle"></p> <ol><li><code>beforeCreate</code>: 在 vue 实例创建之后，数据观测( data observer) 之前被调用。</li> <li><code>created</code>: 数据观测 ( data observer ) 和计算属性、方法等执行完成
，watch / event 事件回调也初始化完成，但此时并没有 <code>$el</code>。</li> <li><code>beforeMounted</code>: 挂载实例之前的生命函数钩子，此时 <code>render</code> 函数
等初次调用。</li> <li><code>mounted</code>: 完成 <code>$el</code> 的创建并挂载到 DOM 上。</li> <li><code>beforeUpdate</code>: 数据更新时调用，发生在虚拟 DOM 重新
渲染和打补丁之前。</li> <li><code>updated</code>: 由于数据更新导致虚拟 DOM 重新渲染和打补丁。</li> <li><code>beforeDestroy</code>: 在实例被销毁之前调用的一些清理工作。</li> <li><code>destroy</code>: 销毁实例。实例上的所有数据会解除绑定，所有的事件监听器
会被移除。</li></ol> <p><strong>每个生命周期内部可以做的事情:</strong></p> <ol><li><code>create</code>: 实例已经创建完成，可以拿到实例上面的数据，
可以发送资源的请求。</li> <li><code>mounted</code>: 实例已经完成挂载，可以进行 DOM 操作。</li> <li><code>beforeUpdate</code>: 在数据渲染后更新操作之前，可以进一步修改
状态。</li> <li><code>updated</code>: 可以执行更新后的 DOM 操作。大部分情况下，避免
在这个阶段操作 DOM 元素。</li> <li><code>destroy</code>: 可以执行一些优化操作，例如：清空定时器，解除
事件绑定从而避免内存泄露。</li></ol> <h2 id="ajax-请求应该放在哪个生命周期中"><a href="#ajax-请求应该放在哪个生命周期中" class="header-anchor">#</a> ajax 请求应该放在哪个生命周期中</h2> <p>可以放在 <code>create</code> 或者是 <code>mounted</code> 中。</p> <ul><li>放在 <code>create</code> 中的话无法拿到 DOM 元素，但是其发送请求的优先级
会高一点。</li> <li>放在 <code>mounted</code> 中的话可以拿到渲染后的 DOM 元素。</li></ul> <p>但是，对于服务器渲染是没有 DOM 的概念。所以，可以统一使用浏览器
时在 <code>mounted</code> 发送请求；在服务器渲染的时候，在 <code>create</code> 中
请求数据。</p> <h2 id="什么时候要使用-beforedestroy"><a href="#什么时候要使用-beforedestroy" class="header-anchor">#</a> 什么时候要使用 beforeDestroy</h2> <h2 id="vue-中模板编译的原理"><a href="#vue-中模板编译的原理" class="header-anchor">#</a> Vue 中模板编译的原理</h2> <h2 id="v-if-和-v-show-的区别"><a href="#v-if-和-v-show-的区别" class="header-anchor">#</a> v-if 和 v-show 的区别</h2> <h2 id="为什么-v-for-和-v-if-不能连用"><a href="#为什么-v-for-和-v-if-不能连用" class="header-anchor">#</a> 为什么 v-for 和 v-if 不能连用</h2> <h2 id="用-vnode-来描述一个-dom-结构"><a href="#用-vnode-来描述一个-dom-结构" class="header-anchor">#</a> 用 vnode 来描述一个 DOM 结构</h2> <h2 id="diff-算法的时间复杂度"><a href="#diff-算法的时间复杂度" class="header-anchor">#</a> diff 算法的时间复杂度</h2> <p>评级比较</p> <h2 id="简述-vue-中的-diff-算法"><a href="#简述-vue-中的-diff-算法" class="header-anchor">#</a> 简述 Vue 中的 diff 算法</h2> <h2 id="v-for-中为什么要用-key"><a href="#v-for-中为什么要用-key" class="header-anchor">#</a> v-for 中为什么要用 key</h2> <p>不带 key 情况下，默认的 key 是 <code>undefined</code>。
vue 在执行 <code>diff</code> 算法的时候，由于两个 key
相同，于是会执行 <code>patchVnode</code> 打补丁对节点进行复用。</p> <p>对于一些 <strong>无状态</strong>的数据循环来说，不使用 <code>key</code> 可以提高
运行的效率。但是对于那些使用到状态的循环而言，如果不使用
key 的话，vue 复用子元素可能会出现一些 bug。
使用 key 会影响性能，如果操作了元素，vue 在 打补丁的时候
找不到可以复用的 <code>vnode</code>，则需要将旧的 <code>vnode</code> 删除，同时
操作 dom。
事实上，加上 key 对于性能的影响并不大，出于安全考虑，<code>v-for</code> 中
最好使用 <code>key</code>。</p> <p>其次，key 最好是唯一的标识，如果简单地使用索引作为
key 的话，vue 在复用子元素的时候也可能出现 bug。</p> <h2 id="描述组件渲染和更新过程"><a href="#描述组件渲染和更新过程" class="header-anchor">#</a> 描述组件渲染和更新过程</h2> <h2 id="组件中的-data-为什么是一个函数"><a href="#组件中的-data-为什么是一个函数" class="header-anchor">#</a> 组件中的 data 为什么是一个函数</h2> <h2 id="vue-中事件绑定的原理"><a href="#vue-中事件绑定的原理" class="header-anchor">#</a> Vue 中事件绑定的原理</h2> <p>vue 中的事件绑定采用了两种方式：</p> <ol><li>原生事件绑定。</li> <li>组件事件绑定。</li></ol> <p>当我们在 html 元素上绑定事件的时候，vue 最终会通过 <code>addEventListener</code> 的
方式为 DOM 元素绑定事件。</p> <p>对于组件的事件绑定，vue 是通过使用自己的事件管理实现的（采用的是发布订阅模式）。</p> <p>考虑下面的例子：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> compiler <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'vue-template-compiler'</span><span class="token punctuation">)</span>

<span class="token keyword">let</span> r1 <span class="token operator">=</span> compiler<span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span><span class="token string">'&lt;div @click=&quot;fn()&quot;&gt;&lt;/div&gt;'</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> r2 <span class="token operator">=</span> compiler<span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span>
  <span class="token string">'&lt;my-component @click=&quot;fn()&quot; @click.native=&quot;fn()&quot;&gt;&lt;/my-component&gt;'</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>r1<span class="token punctuation">.</span>render<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>r2<span class="token punctuation">.</span>render<span class="token punctuation">)</span>
<span class="token comment">/*
with(this){return _c('div',{on:{&quot;click&quot;:function($event){return fn()}}})}
with(this){return _c('my-component',{on:{&quot;click&quot;:function($event){return fn()}},nativeOn:{&quot;click&quot;:function($event){return fn()}}})}
*/</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="v-model-的实现原理以及如何定义-v-model"><a href="#v-model-的实现原理以及如何定义-v-model" class="header-anchor">#</a> v-model 的实现原理以及如何定义 v-model</h2> <p>v-model 对于组件默认情况下就是 <code>value</code> 和 <code>input</code> 的语法糖。
来看源码的实现：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">transformModel</span><span class="token punctuation">(</span><span class="token parameter">options<span class="token punctuation">,</span> data<span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> prop <span class="token operator">=</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>model <span class="token operator">&amp;&amp;</span> options<span class="token punctuation">.</span>model<span class="token punctuation">.</span>prop<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token string">'value'</span>
  <span class="token keyword">const</span> event <span class="token operator">=</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>model <span class="token operator">&amp;&amp;</span> options<span class="token punctuation">.</span>model<span class="token punctuation">.</span>event<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token string">'input'</span>
  <span class="token punctuation">;</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>attrs <span class="token operator">||</span> <span class="token punctuation">(</span>data<span class="token punctuation">.</span>attrs <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">[</span>prop<span class="token punctuation">]</span> <span class="token operator">=</span> data<span class="token punctuation">.</span>model<span class="token punctuation">.</span>value
  <span class="token keyword">const</span> on <span class="token operator">=</span> data<span class="token punctuation">.</span>on <span class="token operator">||</span> <span class="token punctuation">(</span>data<span class="token punctuation">.</span>on <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> existing <span class="token operator">=</span> on<span class="token punctuation">[</span>event<span class="token punctuation">]</span>
  <span class="token keyword">const</span> callback <span class="token operator">=</span> data<span class="token punctuation">.</span>model<span class="token punctuation">.</span>callback
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isDef</span><span class="token punctuation">(</span>existing<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>
      Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>existing<span class="token punctuation">)</span>
        <span class="token operator">?</span> existing<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>callback<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span>
        <span class="token operator">:</span> existing <span class="token operator">!==</span> callback
    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
      on<span class="token punctuation">[</span>event<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>callback<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>existing<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    on<span class="token punctuation">[</span>event<span class="token punctuation">]</span> <span class="token operator">=</span> callback
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>通过上面的源码，我们也可以自定义组件的 <code>v-model</code>。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'el-checkbox'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  template<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;input type=&quot;checkbox&quot; :checked=&quot;check&quot;
@change=&quot;$emit('change',$event.target.checked)&quot;&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
  model<span class="token operator">:</span> <span class="token punctuation">{</span>
    prop<span class="token operator">:</span> <span class="token string">'check'</span><span class="token punctuation">,</span> <span class="token comment">// 更改默认的 value 的名字</span>
    event<span class="token operator">:</span> <span class="token string">'change'</span><span class="token punctuation">,</span> <span class="token comment">// 更改默认的方法名</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  props<span class="token operator">:</span> <span class="token punctuation">{</span>
    check<span class="token operator">:</span> Boolean<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>对于原生 DOM 元素，vue 在编译时会根据不同的标签和 type
指定 value 和 event。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">model</span><span class="token punctuation">(</span>
  <span class="token parameter">el<span class="token operator">:</span> ASTElement<span class="token punctuation">,</span>
  dir<span class="token operator">:</span> ASTDirective<span class="token punctuation">,</span>
  _warn<span class="token operator">:</span> Function<span class="token punctuation">,</span></span>
<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token operator">?</span>boolean <span class="token punctuation">{</span>
  <span class="token comment">// statement...</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>el<span class="token punctuation">.</span>component<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">genComponentModel</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span> value<span class="token punctuation">,</span> modifiers<span class="token punctuation">)</span>
    <span class="token comment">// component v-model doesn't need extra runtime</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>tag <span class="token operator">===</span> <span class="token string">'select'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">genSelect</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span> value<span class="token punctuation">,</span> modifiers<span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>tag <span class="token operator">===</span> <span class="token string">'input'</span> <span class="token operator">&amp;&amp;</span> type <span class="token operator">===</span> <span class="token string">'checkbox'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">genCheckboxModel</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span> value<span class="token punctuation">,</span> modifiers<span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>tag <span class="token operator">===</span> <span class="token string">'input'</span> <span class="token operator">&amp;&amp;</span> type <span class="token operator">===</span> <span class="token string">'radio'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">genRadioModel</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span> value<span class="token punctuation">,</span> modifiers<span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>tag <span class="token operator">===</span> <span class="token string">'input'</span> <span class="token operator">||</span> tag <span class="token operator">===</span> <span class="token string">'textarea'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">genDefaultModel</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span> value<span class="token punctuation">,</span> modifiers<span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>config<span class="token punctuation">.</span><span class="token function">isReservedTag</span><span class="token punctuation">(</span>tag<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">genComponentModel</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span> value<span class="token punctuation">,</span> modifiers<span class="token punctuation">)</span>
    <span class="token comment">// component v-model doesn't need extra runtime</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">!==</span> <span class="token string">'production'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// ensure runtime directive metadata</span>
  <span class="token keyword">return</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h3 id="跨组件通信"><a href="#跨组件通信" class="header-anchor">#</a> 跨组件通信</h3> <ol><li>通过 Event Bus 实现。其核心原理还是 <code>vue</code> 实例上的 <code>$emit</code> 和
<code>$on</code>，通过 <code>$emit</code> 派发全局事件，通过 <code>$on</code> 监听全局事件。<div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>$bus <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li>使用 <code>vuex</code> 实现状态管理。</li></ol> <h2 id="v-html-会导致哪些问题"><a href="#v-html-会导致哪些问题" class="header-anchor">#</a> v-html 会导致哪些问题</h2> <p>存在安全性问题。例如：我们将输入框获取到的内容作为 <code>v-html</code> 的
输入，则用户完全可以通过输入框执行脚本。</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>msg<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-html</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>msg<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>鉴于此，不建议直接使用 <code>v-html</code> 接受用户的数据。</p> <h2 id="vue-父子组件生命周期的调用顺序"><a href="#vue-父子组件生命周期的调用顺序" class="header-anchor">#</a> Vue 父子组件生命周期的调用顺序</h2> <ol><li>父组件在挂载之前如果发现有子组件的话，会递归创建子组件。</li> <li>父组件在销毁之前，回去销毁子组件。</li></ol> <p><img src="/blog_fe/assets/img/2021-06-28-22-42-57.95305a5f.png" alt=""></p> <h2 id="vue-组件是如何通信的"><a href="#vue-组件是如何通信的" class="header-anchor">#</a> Vue 组件是如何通信的</h2> <h3 id="父传子"><a href="#父传子" class="header-anchor">#</a> 父传子</h3> <ol><li>通过 <code>props</code> 向子组件传递数据。</li></ol> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code>// parent.vue
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>parent<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>parent component<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>child</span> <span class="token attr-name">:msg</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">'</span>hello children<span class="token punctuation">'</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> child <span class="token keyword">from</span> <span class="token string">'@/components/child'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
components<span class="token operator">:</span> <span class="token punctuation">{</span>
  child<span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

// ----------------------
// child.vue

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>child<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>In child component: receive message {{ msg }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span>
export default {
  props: {
    msg: String,
  },
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><ol start="2"><li>父组件通过 <code>$children</code> 的方式获取子组件。</li> <li>父组件通过 <code>ref</code> 的方式获取子组件。</li> <li>父组件通过 <code>provide</code> 向子组件传送数据，子组件通过 <code>inject</code> 获取父组件传送过来的数据。</li></ol> <h3 id="子组件向父组件传送数据"><a href="#子组件向父组件传送数据" class="header-anchor">#</a> 子组件向父组件传送数据</h3> <ol><li>子组件通过 <code>$emit</code> 的方式向父组件暴露一个事件，
父组件可以在子组件上监听事件的触发或者获取到子组件
通过 <code>$on</code> 的方式监听。</li></ol> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code>// child.vue
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>child<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleBtnClick<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>send message to parent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  props<span class="token operator">:</span> <span class="token punctuation">{</span>
    msg<span class="token operator">:</span> String<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">handleBtnClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'sendMessageToParent'</span><span class="token punctuation">,</span> <span class="token string">'hello parent'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

// ------------------------ // parent.vue
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>parent<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>parent component<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>child</span> <span class="token attr-name">@sendMessageToParent</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>onReceiveMessage<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>child-ref<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> child <span class="token keyword">from</span> <span class="token string">'@/components/child'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  components<span class="token operator">:</span> <span class="token punctuation">{</span>
    child<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">onReceiveMessage</span><span class="token punctuation">(</span><span class="token parameter">msg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'receive message from child: '</span><span class="token punctuation">,</span> msg<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> child <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">[</span><span class="token string">'child-ref'</span><span class="token punctuation">]</span>
    child<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">'sendMessageToParent'</span><span class="token punctuation">,</span> <span class="token parameter">msg</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'receive message from child: '</span><span class="token punctuation">,</span> msg<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br></div></div><ol start="2"><li>子组件通过 <code>$parent</code> 的方式获取到父组件的实例。</li> <li>子组件可以通过 <code>$attrs</code> 获取父组件向子组件传送过来的数据，
通过 <code>$listeners</code> 获取父组件监听子组件的监听器。</li></ol> <h2 id="vue-中相同逻辑如何抽离"><a href="#vue-中相同逻辑如何抽离" class="header-anchor">#</a> Vue 中相同逻辑如何抽离</h2> <p>可以使用 <code>mixin()</code> 向 vue 组件混入公共的逻辑。
但是缺点也是很明显的：每个组件莫名其妙多出来一些数据和方法。</p> <p><code>Vue.mixin()</code> 实现方式特别简单，就是通过调用其 <code>mergeOptions</code> 方法。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">initMixin</span><span class="token punctuation">(</span><span class="token parameter">Vue<span class="token operator">:</span> GlobalAPI</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  Vue<span class="token punctuation">.</span><span class="token function-variable function">mixin</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">mixin<span class="token operator">:</span> Object</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>options <span class="token operator">=</span> <span class="token function">mergeOptions</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">,</span> mixin<span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>合并的大概原理如下：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>Vue<span class="token punctuation">.</span><span class="token function">mixin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function">beforeCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>vue 会将 <code>mixin</code> 中的 hook 存入到一个队列中（头插）
，然后在 <code>callHook</code> 的时候会遍历队列，依次取出 <code>hook</code> 并执行。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">/**
 * Hooks and props are merged as arrays.
 */</span>
<span class="token keyword">function</span> <span class="token function">mergeHook</span><span class="token punctuation">(</span>
  <span class="token parameter">parentVal<span class="token operator">:</span> <span class="token operator">?</span>Array<span class="token operator">&lt;</span>Function<span class="token operator">&gt;</span><span class="token punctuation">,</span>
  childVal<span class="token operator">:</span> <span class="token operator">?</span>Function <span class="token operator">|</span> <span class="token operator">?</span>Array<span class="token operator">&lt;</span>Function<span class="token operator">&gt;</span><span class="token punctuation">,</span></span>
<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token operator">?</span>Array<span class="token operator">&lt;</span>Function<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> res <span class="token operator">=</span> childVal
    <span class="token operator">?</span> parentVal
      <span class="token operator">?</span> parentVal<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>childVal<span class="token punctuation">)</span>
      <span class="token operator">:</span> Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>childVal<span class="token punctuation">)</span>
      <span class="token operator">?</span> childVal
      <span class="token operator">:</span> <span class="token punctuation">[</span>childVal<span class="token punctuation">]</span>
    <span class="token operator">:</span> parentVal
  <span class="token keyword">return</span> res <span class="token operator">?</span> <span class="token function">dedupeHooks</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token operator">:</span> res
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>核心逻辑是 <code>parentVal.concat(childVAl)</code>，采用 <code>concat</code>
实现头插合并。</p> <p>对于其他数据的合并，vue 会根据不同的字段采用不同的合并
策略。</p> <h2 id="为什么要使用异步组件"><a href="#为什么要使用异步组件" class="header-anchor">#</a> 为什么要使用异步组件</h2> <p>降低打包体积。使用异步组件，vue 在打包的时候会采用异步打包
的方式，而且会采用 jsp 的方式进行加载，从而解决文件过大的
问题。</p> <h2 id="什么是作用域插槽"><a href="#什么是作用域插槽" class="header-anchor">#</a> 什么是作用域插槽</h2> <h3 id="何为插槽"><a href="#何为插槽" class="header-anchor">#</a> 何为插槽</h3> <h2 id="浅谈-keep-alive"><a href="#浅谈-keep-alive" class="header-anchor">#</a> 浅谈 keep-alive</h2> <p><code>keep-alive</code> 可以用于实现组件的缓存，使组件在切换的时候不会
立即被销毁。</p> <p>常用的属性有：</p> <ul><li><code>include</code>: 决定哪些组件可以缓存。</li> <li><code>exclude</code>：决定哪些组件不被缓存。</li> <li><code>max</code>：最大的缓存数量。</li></ul> <p>其中，实现最大缓存数量的算法是 <code>LRU</code>算法。</p> <p><strong>注意事项</strong>：<code>keep-alive</code> 也是一个插槽，所以只能接受第一个
组件/元素。</p> <p>如果 <code>keep-alive</code> 与 <code>router-view</code> 搭配使用的时候，
<code>router-view</code> 所有匹配到的路径。</p> <p>为了避免将所有匹配到的路径缓存，可以使用 <code>keep-alive</code> 的参数，
或者可以通过 <code>router.meta</code> 来决定释放缓存，详情可以参考
<a href="https://www.cnblogs.com/fightjianxian/p/12070982.html" target="_blank" rel="noopener noreferrer">vue-router 之 keep-alive 路由缓存处理 include+exclude<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <h2 id="vue-中常见的性能优化"><a href="#vue-中常见的性能优化" class="header-anchor">#</a> Vue 中常见的性能优化</h2> <h3 id="编码优化"><a href="#编码优化" class="header-anchor">#</a> 编码优化</h3> <ol><li>不要将所有的数据都存放在 <code>data</code> 中，这会造成增加过多的
<code>getter</code> 和 <code>setter</code>，而且会采用过多的 <code>watcher</code> 去
收集依赖，从而影响性能。</li> <li>使用 <code>v-for</code> 时给每个元素绑定事件的时候使用事件代理。</li> <li>如果是 <code>SPA</code> 的话，可以使用 <code>keep-alive</code> 对组件进行缓存。</li> <li>正确使用 <code>v-show</code> 和 <code>v-for</code>。对于需要频繁显示和隐藏的组件
采用 <code>v-show</code> 性能要好一些，不然优先使用 <code>v-for</code>。</li> <li>使用 <code>key</code> 保证唯一性，避免 vue 在原地复用的时候出现 bug。</li> <li>可以使用 <code>Object.freeze()</code> 冻结数据，避免 vue 定义过多的
<code>getter</code> 和 <code>setter</code>。</li> <li>合理使用路由懒加载和异步组件。</li> <li>采用 runtime 版本的 vue。</li> <li>拆分 vue 组件，提高代码的复用性。</li></ol> <h3 id="加载性能优化"><a href="#加载性能优化" class="header-anchor">#</a> 加载性能优化</h3> <ul><li>第三方模块按需导入 ( babel-plugin-component )</li> <li>滚动到可视区域动态加载 ( https://tangbc.github.io/vue-virtual-scroll-list )</li> <li>图片懒加载 (https://github.com/hilongjw/vue-lazyload.git)</li></ul> <h2 id="vue3-0-有哪些改进"><a href="#vue3-0-有哪些改进" class="header-anchor">#</a> Vue3.0 有哪些改进</h2> <ol><li>Composition Api</li></ol> <h2 id="实现-hash-路由和-history-路由"><a href="#实现-hash-路由和-history-路由" class="header-anchor">#</a> 实现 hash 路由和 history 路由</h2> <h2 id="vue-router-中导航守卫有哪些"><a href="#vue-router-中导航守卫有哪些" class="header-anchor">#</a> Vue-Router 中导航守卫有哪些</h2> <h2 id="action-和-mutation-的区别"><a href="#action-和-mutation-的区别" class="header-anchor">#</a> action 和 mutation 的区别</h2> <h2 id="简述-vuex-的工作原理"><a href="#简述-vuex-的工作原理" class="header-anchor">#</a> 简述 Vuex 的工作原理</h2> <p><img src="https://vuex.vuejs.org/vuex.png" alt="vuex"></p> <h2 id="reference"><a href="#reference" class="header-anchor">#</a> Reference</h2> <ul><li><a href="https://www.cnblogs.com/fightjianxian/p/12070982.html" target="_blank" rel="noopener noreferrer">vue-router 之 keep-alive 路由缓存处理 include+exclude<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://zhuanlan.zhihu.com/p/41605338" target="_blank" rel="noopener noreferrer">谈谈 App Shell 与 Skeleton Screen 实现<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://developer.mozilla.org/zh-CN/docs/Web/Guide/CSS/Block_formatting_context" target="_blank" rel="noopener noreferrer">块格式化上下文<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div> <!----> <div class="content__content-bottom"></div> <footer class="page-meta"><!----> <div class="meta-item update-time"><span class="label">Last update:</span> <span class="info">August 27, 2021 23:37</span></div> <div class="meta-item contributors"><span class="label">Contributors: </span> <span class="info"><span title="email: 15622971239@163.com" class="contributor">
          Laishuxin
        </span> <!----></span></div></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/blog_fe/cate/framework/vue/2_vue-utils/">
        vue2 - 几个有趣的工具函数
        <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon next-icon"><path d="M906.772 512c0 4.772-2.211 9.267-5.99 12.175L524.257 813.66a15.37 15.37 0 0 1-18.616.092 15.368 15.368 0 0 1-5.038-17.91l75.714-191.672h-443.73c-8.488 0-15.36-6.881-15.36-15.36v-153.6c0-8.489 6.872-15.36 15.36-15.36h443.73l-75.714-191.682a15.358 15.358 0 0 1 5.048-17.91c5.51-4.158 13.128-4.137 18.606.092l376.525 289.485a15.323 15.323 0 0 1 5.99 12.165z" fill="currentColor"></path></svg></a></span></p></div> <!----> <!----> <div class="content__page-bottom"></div></main> <footer class="footer-wrapper"><!----> <div class="footer"><h2 style="width:100%; min-width: 100%;">Ru Shui</h2></div> <div class="copyright">MIT Licensed | Copyright © 2021-present Ru Shui</div></footer></div><div class="global-ui"><!----><!----><div id="pwa-install"><!----> <div id="install-modal-wrapper" style="display:none;"><div class="background"></div> <div class="install-modal"><div class="header"><button aria-label="Close" class="close-button"><svg width="23" height="22" xmlns="http://www.w3.org/2000/svg" class="icon close-icon"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.12.358a1.224 1.224 0 011.729 0l8.92 8.914L20.686.358a1.224 1.224 0 011.73 1.728L13.497 11l8.92 8.913a1.222 1.222 0 11-1.73 1.729l-8.919-8.913-8.92 8.913a1.224 1.224 0 01-1.729-1.729L10.04 11l-8.92-8.914a1.222 1.222 0 010-1.728z" fill="currentColor"></path></svg></button> <div class="logo"><!----> <div class="title"><h1></h1> <p class="desc">This app can be installed on your PC or mobile device.  This will allow this web app to look and behave like any other installed app.  You will find it in your app lists and be able to pin it to your home screen, start menus or task bars.  This installed web app will also be able to safely interact with other apps and your operating system. </p></div></div></div> <div class="content"><div class="highlight"><!----> <!----></div> <div class="description"><h3>Description</h3> <p></p></div></div> <div class="button-wrapper"><button class="install-button">
        Install <span></span></button> <button class="cancel-button">
        Cancel
      </button></div></div></div></div><div tabindex="-1" role="dialog" aria-hidden="true" class="pswp"><div class="pswp__bg"></div> <div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div> <div class="pswp__item"></div> <div class="pswp__item"></div></div> <div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div> <button class="pswp__button pswp__button--close"></button> <button class="pswp__button pswp__button--share"></button> <button class="pswp__button pswp__button--fs"></button> <button class="pswp__button pswp__button--zoom"></button> <div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div> <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div> <button class="pswp__button pswp__button--arrow--left"></button> <button class="pswp__button pswp__button--arrow--right"></button> <div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div></div></div>
    <script src="/blog_fe/assets/js/app.fe1b108c.js" defer></script><script src="/blog_fe/assets/js/layout-Layout.7bf019d1.js" defer></script><script src="/blog_fe/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound.aaefc311.js" defer></script><script src="/blog_fe/assets/js/page-前端框架-关于vue的常见问题.a38e072f.js" defer></script><script src="/blog_fe/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound~layout-Slide.08f9f3fe.js" defer></script><script src="/blog_fe/assets/js/vendors~layout-Blog~layout-Layout.d98152e8.js" defer></script>
  </body>
</html>
